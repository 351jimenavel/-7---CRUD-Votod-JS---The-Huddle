<!-- Recibir temas ya ordenados desde el Controlador.
Pintar título, votos y un botón “Votar” (con data-id para el JS).
Link a “Nuevo tema”. -->

<!DOCTYPE html>
<html>
<head>
    <title>Ejemplo EJS</title>
    </head>
    <body>
    <h1>Lista de temas</h1>

    <% if (error) { %>
        <p style="color:red"><%= error %></p>
    <% } %>

    <% if (temas && temas.length > 0) { %>
        <ul id="lista-temas">
        <% temas.forEach(t => { %>
            <li class="tema" data-id="<%= t.id %>" data-votos="<%= t.votos %>">
            <strong class="titulo"><%= t.titulo %></strong>
            — <span class="votos"><%= t.votos %></span> votos
            <button type="button" class="btn-votar-tema">Votar tema</button>
            </li>
        <% }) %>
        </ul>
    <% } else { %>
        <p>No hay temas aún.</p>
    <% } %>

    <!-- importante: cargar tu JS de votos -->
    <script src="/js/votos.js"></script>

    <p><a href="/temas/nuevo">Crear nuevo tema</a></p>
</body>
</html>
